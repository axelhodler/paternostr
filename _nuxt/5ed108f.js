(window.webpackJsonp=window.webpackJsonp||[]).push([[7,3,5],{442:function(t,e,n){var content=n(445);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(93).default)("0552f9d3",content,!0,{sourceMap:!1})},443:function(t,e,n){"use strict";var r=n(11),o=n(149);r({target:"String",proto:!0,forced:n(150)("sub")},{sub:function(){return o(this,"sub","","")}})},444:function(t,e,n){"use strict";n(442)},445:function(t,e,n){var r=n(92)(!1);r.push([t.i,".link-to-event[data-v-ab084408]{color:#000;text-decoration:none!important}.picture[data-v-ab084408]{height:50px;width:50px;border-radius:25px;margin:0 15px 0 0}",""]),t.exports=r},446:function(t,e,n){"use strict";n.r(e);n(23),n(148),n(1),n(15),n(2);var r={name:"FeedEntry",props:["message"],data:function(){return{replyingTo:[]}},computed:{userMetadata:function(){var t=this;return this.$store.getters.getContactMetadata.find((function(e){return e.pubkey===t.message.author}))}},created:function(){this.$store.state.contactMetadata[this.message.author];this.replyingTo=this.message.tags.filter((function(t){return"p"===t[0]})).map((function(t){return t[1]}))}},o=(n(444),n(61)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("NuxtLink",{staticClass:"link-to-event",attrs:{to:"/"+t.message.author+"/status/"+t.message.id}},[e("div",[e("div",{staticClass:"d-flex flex-row"},[t.userMetadata?e("div",[e("img",{staticClass:"picture",attrs:{src:t.userMetadata.picture}})]):e("div",[e("PuSkeleton",{staticClass:"picture",attrs:{width:"50px",height:"50px",circle:""}})],1),t._v(" "),e("div",{staticClass:"d-flex w-100 justify-content-between flex-column"},[e("div",{staticClass:"d-flex justify-content-between flex-row"},[e("NuxtLink",{attrs:{to:"/"+t.message.author}},[t.userMetadata?e("div",[e("p",{staticClass:"mb-0"},[t._v("\n                  "+t._s(t.userMetadata.name)+"\n                ")])]):e("div",[e("p",{staticClass:"mb-0"},[t._v(t._s(t._f("shortenAddress")(t.message.author)))])])]),t._v(" "),e("div",[e("small",[t._v(t._s(t._f("formatTimestamp")(t.message.created_at)))])])],1),t._v(" "),e("div",{staticClass:"d-flex w-100 justify-content-between flex-row"},[t.replyingTo.length>0?e("div",[e("small",[t._v("Replying to\n                "),t._l(t.replyingTo,(function(n){return e("span",[e("NuxtLink",{attrs:{to:"/"+n}},[t._v("\n                    "+t._s(t._f("shortenAddress")(n))+"\n                  ")])],1)}))],2)]):t._e()])])])]),t._v(" "),e("div",[e("p",{staticClass:"mt-1 mb-1"},[t._v("\n        "+t._s(t.message.content)+"\n      ")])])])],1)}),[],!1,null,"ab084408",null);e.default=component.exports},447:function(t,e,n){var content=n(450);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(93).default)("8e6ca460",content,!0,{sourceMap:!1})},449:function(t,e,n){"use strict";n(447)},450:function(t,e,n){var r=n(92)(!1);r.push([t.i,".picture[data-v-60b786bc]{height:100px;width:100px;border-radius:50px}",""]),t.exports=r},455:function(t,e,n){"use strict";n.r(e);n(23),n(95),n(121);var r=n(191),o={name:"Profile",props:["metadata","pubkey","follower_count"],data:function(){return{openedProfileIsContact:!1}},created:function(){this.openedProfileIsContact=this.$store.getters.getContacts.includes(this.pubkey)},methods:{followThisUser:function(){var t=this.$store.getters.getPool;t.setPrivateKey("TBD"),t.publish({pubkey:Object(r.a)("TBD"),created_at:Math.floor(new Date/1e3),kind:3,tags:[["p",this.pubkey]],content:JSON.stringify(t.relays)})}}},l=(n(449),n(61)),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"d-flex w-100 justify-content-between"},[t.metadata?e("div",{staticClass:"flex-column"},[t.metadata.picture?e("img",{staticClass:"picture",attrs:{src:t.metadata.picture}}):t._e(),t._v(" "),e("p",{staticClass:"mb-1"},[t._v(t._s(t.metadata.name))]),t._v(" "),e("small",[t._v("\n        "+t._s(t.metadata.about)+"\n      ")]),t._v(" "),t.openedProfileIsContact?e("b-badge",[t._v("Followed by you")]):t._e(),t._v(" "),e("small",[e("NuxtLink",{attrs:{to:t.pubkey+"/follows"}},[t.follower_count>0?e("p",{staticClass:"mb-1"},[t._v("Following: "+t._s(t.follower_count))]):t._e()])],1)],1):t._e(),t._v(" "),e("div",{staticClass:"justify-content-around"},[t.openedProfileIsContact?t._e():e("b-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{variant:"primary"},on:{click:t.followThisUser}},[t._v("Follow\n      ")])],1)])])}),[],!1,null,"60b786bc",null);e.default=component.exports},460:function(t,e,n){"use strict";n.r(e);n(94),n(148),n(1),n(23),n(15),n(443);var r={name:"index.vue",data:function(){return{profile:void 0,messages:[],following:[],metadata:{}}},computed:{sortedMessagesLatestFirst:function(){return this.messages.sort((function(a,b){return b.created_at-a.created_at}))}},created:function(){var t=this;this.profile=this.$route.params.pubkey;var e=this.$store.getters.getPool,n=function(e){if(1===e.kind){var n={id:e.id,content:e.content,author:e.pubkey,created_at:e.created_at,tags:e.tags};t.messages.find((function(t){return t.id===n.id}))||t.messages.push(n)}else 0===e.kind?(t.metadata=JSON.parse(e.content),t.$store.commit("addUserMetadata",{pubkey:e.pubkey,name:t.metadata.name,picture:t.metadata.picture})):(t.following=e.tags.map((function(t){return t[1]})),t.$store.commit("setFollows",{pubkey:t.profile,following:t.following}))};e.sub({cb:n,filter:{kinds:[1],authors:[this.profile],limit:10}}),e.sub({cb:n,filter:{kinds:[0,3],authors:[this.profile]}})}},o=n(61),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Profile")]),t._v(" "),e("Profile",{attrs:{metadata:t.metadata,pubkey:t.profile,follower_count:t.following.length}}),t._v(" "),e("b-list-group",t._l(t.sortedMessagesLatestFirst,(function(t){return e("b-list-group-item",{key:t.id},[e("FeedEntry",{attrs:{message:t}})],1)})),1)],1)}),[],!1,null,"4fdb62ac",null);e.default=component.exports;installComponents(component,{Profile:n(455).default,FeedEntry:n(446).default})}}]);