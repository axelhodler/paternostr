(window.webpackJsonp=window.webpackJsonp||[]).push([[8,3],{442:function(t,e,n){var content=n(445);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(93).default)("0552f9d3",content,!0,{sourceMap:!1})},443:function(t,e,n){"use strict";var r=n(11),o=n(149);r({target:"String",proto:!0,forced:n(150)("sub")},{sub:function(){return o(this,"sub","","")}})},444:function(t,e,n){"use strict";n(442)},445:function(t,e,n){var r=n(92)(!1);r.push([t.i,".link-to-event[data-v-ab084408]{color:#000;text-decoration:none!important}.picture[data-v-ab084408]{height:50px;width:50px;border-radius:25px;margin:0 15px 0 0}",""]),t.exports=r},446:function(t,e,n){"use strict";n.r(e);n(23),n(148),n(1),n(15),n(2);var r={name:"FeedEntry",props:["message"],data:function(){return{replyingTo:[]}},computed:{userMetadata:function(){var t=this;return this.$store.getters.getContactMetadata.find((function(e){return e.pubkey===t.message.author}))}},created:function(){this.$store.state.contactMetadata[this.message.author];this.replyingTo=this.message.tags.filter((function(t){return"p"===t[0]})).map((function(t){return t[1]}))}},o=(n(444),n(61)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("NuxtLink",{staticClass:"link-to-event",attrs:{to:"/"+t.message.author+"/status/"+t.message.id}},[e("div",[e("div",{staticClass:"d-flex flex-row"},[t.userMetadata?e("div",[e("img",{staticClass:"picture",attrs:{src:t.userMetadata.picture}})]):e("div",[e("PuSkeleton",{staticClass:"picture",attrs:{width:"50px",height:"50px",circle:""}})],1),t._v(" "),e("div",{staticClass:"d-flex w-100 justify-content-between flex-column"},[e("div",{staticClass:"d-flex justify-content-between flex-row"},[e("NuxtLink",{attrs:{to:"/"+t.message.author}},[t.userMetadata?e("div",[e("p",{staticClass:"mb-0"},[t._v("\n                  "+t._s(t.userMetadata.name)+"\n                ")])]):e("div",[e("p",{staticClass:"mb-0"},[t._v(t._s(t._f("shortenAddress")(t.message.author)))])])]),t._v(" "),e("div",[e("small",[t._v(t._s(t._f("formatTimestamp")(t.message.created_at)))])])],1),t._v(" "),e("div",{staticClass:"d-flex w-100 justify-content-between flex-row"},[t.replyingTo.length>0?e("div",[e("small",[t._v("Replying to\n                "),t._l(t.replyingTo,(function(n){return e("span",[e("NuxtLink",{attrs:{to:"/"+n}},[t._v("\n                    "+t._s(t._f("shortenAddress")(n))+"\n                  ")])],1)}))],2)]):t._e()])])])]),t._v(" "),e("div",[e("p",{staticClass:"mt-1 mb-1"},[t._v("\n        "+t._s(t.message.content)+"\n      ")])])])],1)}),[],!1,null,"ab084408",null);e.default=component.exports},462:function(t,e,n){"use strict";n.r(e);n(148),n(1),n(23),n(443),n(15),n(2),n(14);var r={name:"index.vue",data:function(){return{eventid:void 0,event:void 0,referencedEvents:[]}},created:function(){var t=this;this.eventid=this.$route.params.eventid;var e=this.$store.getters.getPool,n=function(e){var n={id:e.id,content:e.content,author:e.pubkey,created_at:e.created_at,tags:e.tags};t.referencedEvents.find((function(t){return t.id===n.id}))||t.referencedEvents.push(n)},r=function(e){var content=JSON.parse(e.content);t.$store.commit("addUserMetadata",{pubkey:e.pubkey,name:content.name,picture:content.picture})},o=e.sub({cb:function(c){t.event={id:c.id,content:c.content,author:c.pubkey,created_at:c.created_at,tags:c.tags};var d=c.tags.filter((function(t){return"e"===t[0]})).map((function(t){return t[1]})),l=c.tags.filter((function(t){return"p"===t[0]})).map((function(t){return t[1]}));o.unsub(),e.sub({cb:r,filter:{kinds:[0],authors:l.concat(c.pubkey)}}),e.sub({cb:n,filter:{kinds:[1],ids:d}})},filter:{kinds:[1],ids:[this.eventid]}})}},o=n(61),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",[t.event?e("div",[e("b-list-group",[t.referencedEvents.length>0?e("div",[e("h1",[t._v("Thread")]),t._v(" "),t._l(t.referencedEvents,(function(t){return e("b-list-group-item",{key:t.id},[e("FeedEntry",{attrs:{message:t}})],1)}))],2):e("div",[e("h1",[t._v("Message")])]),t._v(" "),e("b-list-group-item",[t.referencedEvents.length>0?e("div",[t._v("\n          â†‘\n        ")]):t._e(),t._v(" "),e("FeedEntry",{attrs:{message:t.event}})],1)],1)],1):t._e()])}),[],!1,null,"ec439872",null);e.default=component.exports;installComponents(component,{FeedEntry:n(446).default})}}]);